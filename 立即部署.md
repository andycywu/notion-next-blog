# 🚀 立即部署到 Cloudflare Pages

## 当前状态

✅ **已完成：**
- Cloudflare Pages 项目已创建：`notion-next-blog`
- LinkedIn 链接已配置：`https://www.linkedin.com/in/andycywu/`
- 代码已推送到 GitHub：`andycywu/notion-next-blog`
- 所有配置文件已准备就绪

## 🎯 推荐部署方式：Cloudflare Dashboard（最简单）

由于网络连接问题，**强烈推荐使用 Cloudflare Dashboard 的 Git 集成方式**，这样：
- ✅ 不需要本地构建
- ✅ 不需要本地网络连接
- ✅ Cloudflare 服务器自动构建
- ✅ 之后每次 push 代码自动部署

---

## 📋 部署步骤（5 分钟完成）

### 步骤 1: 访问 Cloudflare Dashboard

打开浏览器，访问：
**https://dash.cloudflare.com/**

使用您的账号登录：`andywu719@gmail.com`

### 步骤 2: 进入 Pages 项目

1. 在左侧菜单点击 **Pages**
2. 找到并点击项目 **notion-next-blog**

### 步骤 3: 连接 Git 仓库

1. 点击 **Connect to Git** 按钮（或 **Create deployment** > **Connect to Git**）
2. 如果首次使用，会要求授权 Cloudflare 访问 GitHub
   - 点击 **Authorize Cloudflare**
   - 选择您要授权的仓库（或选择所有仓库）
   - 点击 **Install & Authorize**
3. 选择仓库：`andycywu/notion-next-blog`
4. 选择分支：`main`
5. 点击 **Begin setup**

### 步骤 4: 配置构建设置

在构建设置页面：

- **Project name**: `notion-next-blog`（已自动填充）
- **Production branch**: `main`（已自动填充）
- **Framework preset**: 选择 **Next.js**（Cloudflare 会自动检测）
- **Build command**: `npm run build`（已自动填充）
- **Build output directory**: `.next`（可以留空，Next.js 会自动处理）
- **Root directory**: `/`（根目录，已自动填充）

### 步骤 5: 设置环境变量（重要！）

在构建设置页面，找到 **Environment variables** 部分：

1. 点击 **Add variable**

2. **添加必需变量：**
   ```
   变量名: NOTION_PAGE_ID
   值: 02ab3b8678004aa69e9e415905ef32a5
   环境: Production（或 Apply to all environments）
   类型: Secret（推荐）或 Plain text
   ```
   点击 **Save**

3. **检查已设置的变量：**
   - `NEXT_PUBLIC_CONTACT_LINKEDIN` 应该已经设置（我之前通过 CLI 设置的）
   - 如果没有，添加：
     ```
     变量名: NEXT_PUBLIC_CONTACT_LINKEDIN
     值: https://www.linkedin.com/in/andycywu/
     环境: Production
     类型: Plain text
     ```

4. **可选：添加其他变量**
   ```
   NEXT_PUBLIC_AUTHOR = Andy C. Y. Wu
   NEXT_PUBLIC_BIO = 您的简介
   NEXT_PUBLIC_LINK = https://notion-next-blog.pages.dev
   NEXT_PUBLIC_TITLE = 您的博客标题
   ```

### 步骤 6: 部署

1. 检查所有设置是否正确
2. 点击 **Save and Deploy** 按钮
3. 等待构建完成（约 3-5 分钟）
   - 您可以在 Dashboard 中查看构建日志
   - 构建过程中会显示进度

### 步骤 7: 访问您的网站

构建完成后：
- 访问：**https://notion-next-blog.pages.dev**
- 检查 LinkedIn 链接是否显示在社交按钮中
- 点击 LinkedIn 链接，确认跳转到：https://www.linkedin.com/in/andycywu/

---

## ✅ 部署后验证清单

- [ ] 网站可以正常访问：https://notion-next-blog.pages.dev
- [ ] LinkedIn 链接显示在社交按钮中
- [ ] 点击 LinkedIn 链接跳转到 https://www.linkedin.com/in/andycywu/
- [ ] 博客内容正常显示
- [ ] 所有功能正常工作

---

## 🎉 完成！

部署完成后，您的博客将：

- ✅ **自动部署**：每次 `git push` 到 `main` 分支，Cloudflare 自动构建和部署
- ✅ **预览部署**：每个 Pull Request 自动创建预览环境
- ✅ **全球 CDN**：Cloudflare 的全球 CDN 加速
- ✅ **LinkedIn 链接**：已配置并显示在社交按钮中

---

## 🔄 后续更新

之后每次更新博客：

1. 修改代码
2. `git add .`
3. `git commit -m "更新内容"`
4. `git push origin main`
5. Cloudflare 自动检测并部署（无需手动操作）

---

## 🆘 遇到问题？

### 构建失败

1. 查看构建日志中的错误信息
2. 检查环境变量是否正确设置
3. 确保 `NOTION_PAGE_ID` 已设置

### LinkedIn 链接未显示

1. 检查 `NEXT_PUBLIC_CONTACT_LINKEDIN` 环境变量是否设置
2. 值应为：`https://www.linkedin.com/in/andycywu/`
3. 清除浏览器缓存并刷新页面

### 需要帮助

- 查看详细文档：[CLOUDFLARE_DEPLOYMENT.md](./CLOUDFLARE_DEPLOYMENT.md)
- 查看部署步骤：[DEPLOY_STEPS.md](./DEPLOY_STEPS.md)
- 查看部署方式：[DEPLOYMENT_METHODS.md](./DEPLOYMENT_METHODS.md)

---

## 📞 快速链接

- **Cloudflare Dashboard**: https://dash.cloudflare.com/
- **项目 URL**: https://notion-next-blog.pages.dev（部署后可用）
- **GitHub 仓库**: https://github.com/andycywu/notion-next-blog

---

**现在就访问 Cloudflare Dashboard 开始部署吧！** 🚀

https://dash.cloudflare.com/

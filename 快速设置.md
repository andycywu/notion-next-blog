# ⚡ 快速设置指南

## 🎯 问题：看到 "Hello World" 或没有功能？

这说明环境变量还没有正确配置。按照以下步骤操作：

---

## 📝 第一步：设置环境变量（5 分钟）

### 1. 打开 Cloudflare Dashboard

访问：**https://dash.cloudflare.com/**

### 2. 进入项目设置

1. 左侧菜单点击 **Pages**
2. 点击项目 **notion-next-blog**
3. 点击 **Settings**（设置）
4. 左侧菜单点击 **Environment variables**（环境变量）

### 3. 添加必需变量

点击 **Add variable**（添加变量），然后添加：

#### ✅ 必需变量

**变量 1：NOTION_PAGE_ID**
- **变量名**：`NOTION_PAGE_ID`
- **值**：`02ab3b8678004aa69e9e415905ef32a5`
- **环境**：选择 **Production**（或 **Apply to all environments**）
- **类型**：**Plain text**
- 点击 **Save**

#### 📝 推荐变量（可选，但建议设置）

**变量 2：LinkedIn 链接**
- **变量名**：`NEXT_PUBLIC_CONTACT_LINKEDIN`
- **值**：`https://www.linkedin.com/in/andycywu/`
- **环境**：**Production**
- **类型**：**Plain text**

**变量 3：作者名称**
- **变量名**：`NEXT_PUBLIC_AUTHOR`
- **值**：`Andy C. Y. Wu`
- **环境**：**Production**
- **类型**：**Plain text**

**变量 4：网站地址**
- **变量名**：`NEXT_PUBLIC_LINK`
- **值**：`https://notion-next-blog.andycywu.workers.dev`
- **环境**：**Production**
- **类型**：**Plain text**

---

## 🔄 第二步：重新部署

设置环境变量后，需要重新部署：

1. 在项目页面，点击 **Deployments**（部署）
2. 找到最新的部署记录
3. 点击右侧的 **...** 菜单
4. 选择 **Retry deployment**（重新部署）

或者：

1. 点击 **Create deployment**（创建部署）
2. 选择 **Retry build**（重新构建）

---

## ✅ 第三步：验证

等待部署完成（约 3-5 分钟），然后：

1. 访问：**https://notion-next-blog.andycywu.workers.dev**
2. 应该看到博客内容，而不是 "Hello World"

---

## ⚠️ 如果构建失败（部署命令错误）

如果构建日志显示以下错误：

```
✘ [ERROR] It looks like you've run a Workers-specific command in a Pages project.
For Pages, please run `wrangler pages deploy` instead.
```

**解决方法：**

1. 进入 **Settings** > **Builds & deployments**
2. 找到 **Deploy command** 字段
3. **将其留空或删除**（Cloudflare Pages 会自动部署，不需要部署命令）
4. 保存设置
5. 重新部署

详细说明请查看：[修复部署错误.md](./修复部署错误.md)

---

## 🔍 如果还是不行？

### 检查清单

- [ ] `NOTION_PAGE_ID` 已设置
- [ ] 值是：`02ab3b8678004aa69e9e415905ef32a5`
- [ ] 已重新部署
- [ ] **Deploy command 字段已清空**（重要！）
- [ ] Notion 数据库是公开的（Public）
- [ ] Notion 页面是数据库类型（Table view）

### 检查 Notion 数据库

1. 打开您的 Notion 页面
2. 确认页面是**数据库类型**（显示为表格）
3. 点击右上角 **Share**（分享）
4. 确保 **Share to web**（分享到网页）已启用

### 查看构建日志

1. 在 Cloudflare Dashboard 中，进入 **Deployments**
2. 点击最新的部署
3. 查看 **Build logs**（构建日志）
4. 查找错误信息

---

## 📖 详细文档

如需更详细的说明，请查看：
- [设置指南.md](./设置指南.md) - 完整设置说明
- [CLOUDFLARE_DEPLOYMENT.md](./CLOUDFLARE_DEPLOYMENT.md) - 部署文档

---

## 🚀 本地检查环境变量

在本地运行以下命令检查环境变量配置：

```bash
npm run check-env
```

这会显示当前的环境变量状态。

---

**现在就开始设置吧！** 🎉
